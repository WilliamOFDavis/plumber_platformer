[gd_scene load_steps=21 format=3 uid="uid://5ysbs5gmdmh4"]

[ext_resource type="Script" uid="uid://lwd35h1frs2y" path="res://scenes/characters/player/character_body_2d.gd" id="1_onrkg"]
[ext_resource type="Texture2D" uid="uid://byj4tvv31g66c" path="res://graphics/character/Mario.png" id="2_t61fv"]
[ext_resource type="Script" uid="uid://cdrbsatfbsgdl" path="res://scenes/characters/player/player_state_machine.gd" id="3_686vu"]
[ext_resource type="Script" uid="uid://bvkefino2rhbp" path="res://scenes/characters/player/player_velocity_component.gd" id="5_mk55u"]
[ext_resource type="Script" uid="uid://cojo2fovyw0h1" path="res://scenes/characters/player/input_component.gd" id="6_xuses"]
[ext_resource type="Script" uid="uid://c810iyntnnwwv" path="res://scenes/characters/player/growth_state_machine.gd" id="7_mk55u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t61fv"]
size = Vector2(38, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_6avc5"]
atlas = ExtResource("2_t61fv")
region = Rect2(1088, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_mk55u"]
atlas = ExtResource("2_t61fv")
region = Rect2(1344, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_xuses"]
atlas = ExtResource("2_t61fv")
region = Rect2(1408, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_42irl"]
atlas = ExtResource("2_t61fv")
region = Rect2(1152, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_3xnwo"]
atlas = ExtResource("2_t61fv")
region = Rect2(1216, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_djydg"]
atlas = ExtResource("2_t61fv")
region = Rect2(1280, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bsn6e"]
atlas = ExtResource("2_t61fv")
region = Rect2(512, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_blysn"]
atlas = ExtResource("2_t61fv")
region = Rect2(768, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_hv5x3"]
atlas = ExtResource("2_t61fv")
region = Rect2(832, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_ykrpk"]
atlas = ExtResource("2_t61fv")
region = Rect2(576, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_i1nod"]
atlas = ExtResource("2_t61fv")
region = Rect2(640, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_4kqyw"]
atlas = ExtResource("2_t61fv")
region = Rect2(704, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_6avc5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6avc5")
}],
"loop": true,
"name": &"fire_idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mk55u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xuses")
}],
"loop": false,
"name": &"fire_in_air",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_42irl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3xnwo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_djydg")
}],
"loop": true,
"name": &"fire_walk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bsn6e")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_blysn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hv5x3")
}],
"loop": false,
"name": &"in_air",
"speed": 2.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ykrpk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i1nod")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4kqyw")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_layer = 4
script = ExtResource("1_onrkg")

[node name="Camera2D" type="Camera2D" parent="."]
process_callback = 0
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_top_margin = 0.6
drag_right_margin = 0.05
drag_bottom_margin = 0.5

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_t61fv")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_6avc5")
animation = &"in_air"
speed_scale = 2.0

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("growth_state_machine")]
script = ExtResource("3_686vu")
growth_state_machine = NodePath("../GrowthStateMachine")

[node name="PlayerVelocityComponent" type="Node2D" parent="." node_paths=PackedStringArray("player_state_machine", "player_sprite")]
script = ExtResource("5_mk55u")
player_state_machine = NodePath("../PlayerStateMachine")
player_sprite = NodePath("../AnimatedSprite2D")
gravity = 1800.0

[node name="InputComponent" type="Node2D" parent="." node_paths=PackedStringArray("player_velocity_component", "growth_state_machine")]
script = ExtResource("6_xuses")
player_velocity_component = NodePath("../PlayerVelocityComponent")
jump_velocity = -1100.0
growth_state_machine = NodePath("../GrowthStateMachine")

[node name="GrowthStateMachine" type="Node" parent="." node_paths=PackedStringArray("player_state_machine", "sprite")]
script = ExtResource("7_mk55u")
player_state_machine = NodePath("../PlayerStateMachine")
sprite = NodePath("../AnimatedSprite2D")

[node name="EndingTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[connection signal="shoot_fireball" from="InputComponent" to="." method="_on_input_component_shoot_fireball"]
[connection signal="death" from="GrowthStateMachine" to="." method="_on_growth_state_machine_death"]
[connection signal="timeout" from="EndingTimer" to="." method="_on_ending_timer_timeout"]
